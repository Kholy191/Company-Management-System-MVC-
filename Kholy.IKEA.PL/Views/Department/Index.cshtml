@using Kholy.IKEA.PL.ViewModels.Department
@model IEnumerable<DepartmentViewModel>

@{
	ViewData["Title"] = "Index";
}

<!-- Toast Message -->
@if ((TempData["Message"] != null))
{
	<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
		<div id="liveToast" class="toast show shadow-lg border-0" role="alert" aria-live="assertive" aria-atomic="true">
			<div class="toast-header bg-success text-white">
				<img src="https://cdn-icons-png.flaticon.com/512/8279/8279643.png" class="rounded me-2" alt="..." style="width: 40px; height: 40px;">
				<strong class="me-auto">IKEA</strong>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
			</div>
			<div class="toast-body">
				@TempData["Message"]
			</div>
		</div>
	</div>
}

<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mt-4 mb-3">
	<h1 class="text-primary"><i class="fas fa-building"></i> All Departments</h1>
	<a asp-controller="Department" asp-action="Create" class="btn btn-outline-primary btn-lg">
		<i class="fas fa-plus"></i> Create New Department
	</a>
</div>

<!-- Table of Departments -->
@if (Model?.Any() ?? false)
{
	<table class="table table-bordered table-hover shadow-sm mt-4 text-center align-middle">
		<thead class="table-light">
			<tr>
				<th>@Html.DisplayNameFor(D => D.Code)</th>
				<th>@Html.DisplayNameFor(D => D.Name)</th>
				<th>@Html.DisplayNameFor(D => D.CreationDate)</th>
				<th>Details</th>
				<th>Update</th>
				<th>Delete</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var department in Model)
			{
				<tr>
					<td>@department.Code</td>
					<td>@department.Name</td>
					<td>@department.CreationDate.ToString("yyyy-MM-dd")</td>
					<partial name="_ButtonsPartial" model="@department.Id" />
				</tr>
			}
		</tbody>
	</table>
}
else
{
	<div class="alert alert-warning text-center mt-5 shadow-sm">
		<i class="fas fa-info-circle"></i> There are no departments available.
	</div>
}


<!-- #Old Layout -->

@* @using Kholy.IKEA.PL.ViewModels.Department *@
@* @model IEnumerable<DepartmentViewModel> *@

@* @{ *@
@* 	ViewData["Title"] = "Index"; *@
@* } *@

@* @if ((TempData["Message"] != null)) *@
@* { *@
@* 	<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11"> *@
@* 		<div id="liveToast" class="toast show" role="alert" aria-live="assertive" aria-atomic="true"> *@
@* 			<div class="toast-header"> *@
@* 				<img src="https://cdn-icons-png.flaticon.com/512/8279/8279643.png" class="rounded me-2" alt="..." style="width: 50px; height: 50px;"> *@
@* 				<strong class="me-auto">IKEA</strong> *@
@* 				@* <small>@DateTime.Now.Minute mins ago</small> commented
@* 				<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button> *@
@* 			</div> *@
@* 			<div class="toast-body"> *@
@* 				@TempData["Message"] *@
@* 			</div> *@
@* 		</div> *@
@* 	</div> *@
@* } *@


@* <h1>All Departments</h1> *@
@* <br /> *@
@* <br /> *@

@* <a asp-controller="Department" asp-action="Create" class="btn btn-primary"> *@
@* 	Create new Department *@
@* </a> *@


@* <br /> *@
@* <br /> *@

@* @if (Model?.Any() ?? false) *@
@* { *@

@* 	<table class="table table-striped table-hover mt-3"> *@
@* 		<thead> *@
@* 			<tr> *@
@* 				<th>@Html.DisplayNameFor(D => D.Code)</th> *@
@* 				<th>@Html.DisplayNameFor(D => D.Name)</th> *@
@* 				<th>@Html.DisplayNameFor(D => D.CreationDate)</th> *@
@* 				<th>Details</th> *@
@* 				<th>Update</th> *@
@* 				<th>Delete</th> *@
@* 			</tr> *@
@* 		</thead> *@
@* 		<tbody> *@

@* 			@foreach (var department in Model) *@
@* 			{ *@
@* 				<tr> *@
@* 					<td>@department.Code</td> *@
@* 					<td>@department.Name</td> *@
@* 					<td>@department.CreationDate</td> *@
@* 					<partial name="_ButtonsPartial" model="@department.Id" /> *@
@* 				</tr> *@
@* 			} *@
@* 		</tbody> *@
@* 	</table> *@
@* } *@
@* else *@
@* { *@
@* 	<div class="alert alert-primary mt-4"> *@
@* 		<p>There is No Department</p> *@
@* 	</div> *@
@* } *@

<!-- #endregion -->