@using Kholy.IKEA.PL.ViewModels.Employee
@model IEnumerable<EmployeeViewModel>

@{
	ViewData["Title"] = "Index";
}

<!-- Toast Message -->
@if ((TempData["Message"] != null))
{
	<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
		<div id="liveToast" class="toast show shadow-lg border-0" role="alert" aria-live="assertive" aria-atomic="true">
			<div class="toast-header bg-primary text-white">
				<img src="https://cdn-icons-png.flaticon.com/512/8279/8279643.png" class="rounded me-2" alt="..." style="width: 40px; height: 40px;">
				<strong class="me-auto">IKEA</strong>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
			</div>
			<div class="toast-body">
				@TempData["Message"]
			</div>
		</div>
	</div>
}

<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mt-4 mb-3">
	<h1 class="text-primary"><i class="fas fa-users"></i> All Employees</h1>
	<a asp-controller="Employee" asp-action="Create" class="btn btn-outline-primary btn-lg">
		<i class="fas fa-plus"></i> Create New Employee
	</a>
</div>

<br />

<form asp-action="Index" method="get" class="mt-5 row justify-content-center align-items-center" >
	<div class="row col-8">
		<div class="col-8">
			<input type="text" name="search" class="form-control" id="searchInp" placeholder="Search By Name" />
		</div>
		<div class="col-4">
			<input type="submit" value="Search" class="btn btn-success" />
		</div>
	</div>
</form>

<!-- Table of Employees -->
@if (Model?.Any() ?? false)
{
	<table class="table table-bordered table-hover shadow-sm mt-4 text-center align-middle">
		<thead class="table-light">
			<tr>
				<th>@Html.DisplayNameFor(D => D.Name)</th>
				<th>@Html.DisplayNameFor(D => D.Salary)</th>
				<th>@Html.DisplayNameFor(D => D.IsActive)</th>
				<th>@Html.DisplayNameFor(D => D.EmployeeType)</th>
				<th>Details</th>
				<th>Update</th>
				<th>Delete</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var employee in Model)
			{
				<tr>
					<td>@Html.DisplayFor(x => employee.Name)</td>
					<td>@Html.DisplayFor(x => employee.Salary)</td>
					<td>
						@if (employee.IsActive)
						{
							<span class="badge bg-success">Active</span>
						}
						else
						{
							<span class="badge bg-secondary">Inactive</span>
						}
					</td>
					<td>@Html.DisplayFor(x => employee.EmployeeType)</td>
					<partial name="_ButtonsPartial" model="@employee.Id" />
				</tr>
			}
		</tbody>
	</table>
}
else
{
	<div class="alert alert-warning text-center mt-5 shadow-sm">
		<i class="fas fa-info-circle"></i> There are no employees available.
	</div>
}

<script src="~/js/site.js"></script>



<!-- Old Layout -->

@* @using Kholy.IKEA.PL.ViewModels.Employee *@
@* @model IEnumerable<EmployeeViewModel> *@

@* @{ *@
@* 	ViewData["Title"] = "Index"; *@
@* } *@

@* @if ((TempData["Message"] != null)) *@
@* { *@
@* 	<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11"> *@
@* 		<div id="liveToast" class="toast show" role="alert" aria-live="assertive" aria-atomic="true"> *@
@* 			<div class="toast-header"> *@
@* 				<img src="https://cdn-icons-png.flaticon.com/512/8279/8279643.png" class="rounded me-2" alt="..." style="width: 50px; height: 50px;"> *@
@* 				<strong class="me-auto">IKEA</strong> *@
@* 				@* commented <small>@DateTime.Now.Minute mins ago</small> 
@* 				<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button> *@
@* 			</div> *@
@* 			<div class="toast-body"> *@
@* 				@TempData["Message"] *@
@* 			</div> *@
@* 		</div> *@
@* 	</div> *@
@* } *@

@* <h1>All Employees</h1> *@
@* <br /> *@
@* <br /> *@

@* <a asp-controller="Employee" asp-action="Create" class="btn btn-primary"> *@
@* 	Create new Employee *@
@* </a> *@


@* <br /> *@
@* <br /> *@

@* @if (Model?.Any() ?? false) *@
@* { *@
@* 	<table class="table table-striped table-hover mt-3"> *@
@* 		<thead> *@
@* 			<tr> *@
@* 				<th>@Html.DisplayNameFor(D => D.Name)</th> *@
@* 				<th>@Html.DisplayNameFor(D => D.Salary)</th> *@
@* 				<th>@Html.DisplayNameFor(D => D.IsActive)</th> *@
@* 				<th>@Html.DisplayNameFor(D => D.EmployeeType)</th> *@
@* 				<th>Details</th> *@
@* 				<th>Update</th> *@
@* 				<th>Delete</th> *@
@* 			</tr> *@
@* 		</thead> *@
@* 		<tbody> *@

@* 			@foreach (var Employee in Model) *@
@* 			{ *@
@* 				<tr> *@
@* 					<td>@Html.DisplayFor(X => Employee.Name)</td> *@
@* 					<td>@Html.DisplayFor(X => Employee.Salary)</td> *@
@* 					<td>@Html.DisplayFor(X => Employee.IsActive) </td> *@
@* 					<td>@Html.DisplayFor(X => Employee.EmployeeType) </td> *@
@* 					<partial name="_ButtonsPartial" model="@Employee.Id" /> *@
@* 				</tr> *@
@* 			} *@
@* 		</tbody> *@
@* 	</table> *@
@* } *@
@* else *@
@* { *@
@* 	<div class="alert alert-primary mt-4"> *@
@* 		<p>There is No Employee</p> *@
@* 	</div> *@
@* } *@
<!-- #endregion -->


